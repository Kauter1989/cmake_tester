# TestCPPdemo

Добавление теста на фильтры:
add_test(<Tag>_<Имя Теста> ${PROJECT_NAME} <Имя Фильтра*> ../<Адрес Тестовой Картинки> ${STUDADDR} <Адрес Результирующей Картинки**> <Допустимое отклонение МНК> <Допустимое расхождение по числу пикселов>)

* Имя фильтра регистрируется подобным образом:
        filter::red r("fillHalfRed");
где filter::red - класс фильтра, закрашивающего половину красным, fillHalfRed - <ИмяФильтра>

* Может быть любым в той директории, где есть права минимум rw-

Пример:
add_test(Trivial_FirstTest ${PROJECT_NAME} fillHalfRed ../ex1.png ${STUDADDR} res.png 10 30)

**Как пользоваться утилитой в общем случае?**
tests/CMakeLists (содержащий список тестов), включается в utils/CMakeLists тестовой утилиты.
Соответственно все тесты имеют вид *add_test(<Тег>_<Имя теста> ${PROJECT_NAME} <аргументы утилиты>)*
В tests/CMakeLists соответственно парсится результат работы **тестовой утилиты**. То есть **формат вывода вы сами задаёте и сами же парсите результат его работы**. Так в тестере для программы фильтрации есть варианты вывода **\[OK | BAD *<сообщение об ошибке>*\] \[OK | BAD *<сообщение об ошибке>\]* **. Его и парсим.
